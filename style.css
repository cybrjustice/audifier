:root {
  --bg-main: #14161a;
  --bg-panel: #181b20;
  --acc-blue: #38bdf8;
  --acc-light: #a5b4fc;
  --panel-radius: 1rem;
  --shadow-main: 0 2px 16px #0004;
}
html, body {
  margin: 0;
  padding: 0;
  background: var(--bg-main);
  min-height: 100vh;
  min-width: 100vw;
  overflow: hidden;
  color: #e5e7eb;
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
}
body, main {
  width: 100vw; height: 100vh;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
}
#audifier-app {
  width: 100vw; height: 100vh;
  display: flex; flex-direction: column;
}
header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 2vh 4vw 1vh 4vw;
}
header h1 {
  font-size: 2.2rem; font-weight: 800; letter-spacing: -1.5px;
}
header h1 span { color: var(--acc-blue);}
.live-indicator {
  background: #21242b;
  color: var(--acc-blue);
  border-radius: 999px;
  padding: 0.5em 1.1em;
  font-size: 0.85rem;
  font-family: monospace;
}
footer {
  text-align: center;
  font-size: 0.88rem;
  color: #64748b;
  margin: 0.8em 0 0.6em 0;
  letter-spacing: 0.1px;
}
.main-content {
  flex: 1 1 auto;
  display: flex;
  width: 100vw; height: 100%;
  align-items: stretch; justify-content: center;
}
.controls {
  flex: 0 0 360px;
  min-width: 300px;
  max-width: 460px;
  background: var(--bg-panel);
  border-radius: var(--panel-radius) 0 0 var(--panel-radius);
  box-shadow: var(--shadow-main);
  padding: 2.5vh 2vw 2.5vh 2vw;
  display: flex; flex-direction: column;
  gap: 2.1vh;
  z-index: 1;
}
.spectrum-area {
  flex: 1 1 0;
  display: flex;
  flex-direction: column;
  align-items: center; justify-content: center;
  min-width: 0;
  position: relative;
  background: var(--bg-main);
  border-radius: 0 var(--panel-radius) var(--panel-radius) 0;
  padding: 0;
}
.fft-container {
  position: relative;
  width: 92vw; height: 82vh;
  max-width: 1800px; max-height: 100vh;
  min-width: 340px; min-height: 210px;
  background: var(--bg-panel);
  border-radius: var(--panel-radius);
  box-shadow: var(--shadow-main);
  overflow: hidden;
  user-select: none;
  display: flex; align-items: center; justify-content: center;
  margin: auto;
  transition: width 0.2s, height 0.2s;
}
.spectrum-canvas, #spectrum {
  width: 100%; height: 100%;
  background: var(--bg-panel);
  border-radius: var(--panel-radius);
  box-shadow: var(--shadow-main);
  display: block;
  outline: none;
  cursor: grab;
  will-change: transform;
  transition: box-shadow 0.2s;
}
.fft-toggle-btn, .fs-btn {
  z-index: 12;
  position: absolute;
  top: 10px;
  padding: 0.3em 1.15em;
  font-size: 15px;
  border-radius: 999px;
  border: none;
  background: #232632;
  color: var(--acc-blue);
  opacity: 0.8;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}
.fft-toggle-btn { right: 10px;}
.fs-btn { left: 10px;}
.fft-toggle-btn:hover, .fs-btn:hover { background: var(--acc-blue); color: var(--bg-panel); opacity: 1;}
.joystick-outer {
  position: absolute;
  right: 3vw; bottom: 3vh;
  width: 92px; height: 92px;
  background: rgba(36,42,54,0.97);
  border-radius: 100px;
  display: flex; align-items: center; justify-content: center;
  z-index: 20;
  box-shadow: 0 2px 10px #0005;
  border: 2px solid var(--acc-blue);
  opacity: 0.92;
  touch-action: none;
}
.joystick-inner {
  width: 50px; height: 50px;
  background: #373f55;
  border-radius: 100px;
  border: 2.5px solid var(--acc-blue);
  box-shadow: 0 1px 2px #0006;
  transition: background 0.15s;
  position: absolute; left: 21px; top: 21px;
  cursor: grab;
  display: flex; align-items: center; justify-content: center;
  font-family: monospace; color: var(--acc-blue); font-size: 1.4em;
  opacity: 0.98;
  touch-action: none;
}
.fft3d-label {
  font-size: 12px;
  color: #64748b;
  text-align: center;
  margin-top: 0.4em;
  font-family: monospace;
}
.hidden { display: none !important; }
@media (max-width: 900px) {
  .controls { display: none; }
  .fft-container { width: 98vw; height: 54vh; }
  .joystick-outer { right: 2vw; bottom: 2vh; }
}
